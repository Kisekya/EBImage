
R version 3.2.1 (2015-06-18) -- "World-Famous Astronaut"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-unknown-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ## cat tests/test.R | R --vanilla &>tests/test.Rout.save
> library("EBImage")
> 
> set.seed(0) # make random color permutations in 'colorLabels' reproducible
> 
> ## returns a hashcode given an object
> hash = function (x) .Call(digest:::digest_impl, serialize(x, connection=NULL, ascii=FALSE), 7L, -1L, 14L, 0L, 0L, PACKAGE="digest")
> 
> hashold <- function(x) {
+   if ( is.list(x) && length(x)>0L ) hash(sapply(x, hash))
+   else {
+     xd <- suppressWarnings(as.numeric(x))
+     xd <- xd[!(is.nan(xd)||is.na(xd))]
+     lxd <- length(xd)
+     if (lxd==0L) NA
+     else {
+       if (is.matrix(xd)) sum(xd*(1:lxd)) + 0.7*hash(dim(xd))
+       else sum(xd*(1:lxd)) - 0.1
+     }
+   }
+ }
> 
> ## try to evaluate fun(x,...) 
> check <- function(fun, x, ..., capture.output=FALSE, suppressWarnings=FALSE, suppressMessages=FALSE, expectError=FALSE, debug=FALSE) {
+   passed <- TRUE
+ 
+   cat(sprintf("checking \'%s\' %s ", fun, paste(rep(".", 35L-nchar(fun)), collapse = "")))
+   
+   expr = quote(do.call(fun,c(list(x),list(...))))
+   if ( isTRUE(capture.output) ) expr = call("capture.output", expr)
+   if ( isTRUE(suppressWarnings) ) expr = call("suppressWarnings", expr)
+   if ( isTRUE(suppressMessages) ) expr = call("suppressMessages", expr)
+   
+   y <- try(eval(expr), silent=TRUE)
+   
+   if ( (class(y)=="try-error" && !isTRUE(expectError) ) || ( is.Image(y) && !validObject(y)) ) {
+     y <- NULL
+     passed <- FALSE
+   }
+ 
+   if (passed) cat("PASS (", hash(y), " ", hashold(y), ")\n", sep="") 
+   else cat("FAIL\n")
+   
+   if ( isTRUE(debug) ) {
+     if (is.Image(y)) show(y)
+     if (is.array(y)) display(y, all=TRUE, interpolate=FALSE) 
+     else if (is.character(y)) cat(y, sep="\n")
+   }
+   
+   y
+ }
> 
> checkIO <- function(name) {
+   cat("checking IO for \'", name, "\' ... ", sep="")
+   x = get(name)
+   y = FALSE
+   if ( !is.null(x) ) {
+     y <- try({
+       xx <- readImage(writeImage(x, tempfile("", fileext = ".tif")))
+       dimnames(xx) <- dimnames(x)
+       identical(x, xx)
+       }, silent=TRUE)
+   }
+   if ( isTRUE(y) ) cat("PASS\n") else cat("FAIL\n")
+   invisible(y)
+ }
> 
> testIOFunctions <- function(...) invisible(lapply(list(...), function(y) checkIO(y)))
> 
> testEBImageFunctions <- function(x) {
+   cat("new test (hash=", hash(x), ")\n", sep="")
+   
+   z <- check("show", x, capture.output=TRUE)
+   z <- check("print", x, short=TRUE, capture.output=TRUE)
+   if ( typeof(x)=="logical" )
+     z <- check("hist", EBImage:::castImage(x), breaks = c(0, .5, 1))
+   else
+     z <- check("hist", x)
+   
+   ## pixel arithmetic
+   z <- check(">", x, 0.5)
+   z <- check("+", x, x)
+   z <- check("/", x, 2)
+   z <- check("*", 2L, x)
+   z <- check("median", x)
+   z <- check("quantile", x)
+ 
+   ## image methods
+   z <- check("Image", x, colormode="Color")
+   z <- check("as.Image", x)
+   z <- check("is.Image", x)
+   z <- check("imageData", x)
+   z <- check("imageData<-", x, z)
+   z <- check("as.raster", x)
+   z <- check("colorMode<-", x, Grayscale, suppressWarnings=TRUE)
+   y <- check("numberOfFrames", x, type="render")
+   z <- if ( y==1L ) check("getFrames", x, 1L, "render") else check("getFrames", x)
+   z <- check("display", x, method = "browser", browser = "false")
+   if ( y>2L ) {
+     z <- check("display", x, method = "raster", all = TRUE)
+     z <- check("image", x, i = 3L)
+   }
+   else {
+     z <- if (y==1L) check("display", x, method = "raster") else check("display", x, method = "raster", frame = 2L, suppressMessages=TRUE)
+     z <- check("image", x, suppressMessages=TRUE)
+   }
+   
+   ## drawCircle
+   d <- dim(x)
+   c.x <- ceiling(d[1L]/2)
+   c.y <- ceiling(d[2L]/2)
+   radius <- max(c.x-1, 1)
+   nf <- numberOfFrames(x, "render")
+   fill <- nf > 1
+   col <- if ( colorMode(x)==Color ) "yellow" else 1
+   z <- check("drawCircle", x, c.x, c.x, radius, col, fill, nf)
+   
+   ## subset
+   sub <- list(x, 1:min(10,d[1L]), 1:min(7,d[2L]))
+   if (length(d)>2) sub <- c(sub, rep(TRUE, length(d)-2))
+   z <- do.call("check", c("[", sub))
+ 
+   ## spatial transform
+   z <- check("resize", x, 137, 22)
+   z <- check("rotate", x, 20)
+   z <- check("flip", x)
+   z <- check("flop", x)
+   z <- check("translate", x, c(-7, 5), bg.col=1)
+   z <- check("affine", x, matrix(c(-7, 5, 0.1, -0.2, 0.3, 1), ncol=2L))
+   z <- check("transpose", x)
+ 
+   ## segmentation
+   z <- check("thresh", x)
+   y <- check("channel", x, "luminance")
+   z <- check("otsu", y)
+   y <- suppressWarnings(normalize(y, separate=FALSE))
+   y <- check("bwlabel", y > 0.5)
+   z <- check("colorLabels", y, suppressWarnings=TRUE)
+   z <- check("stackObjects", y, x)
+   z <- check("stackObjects", Image(dim=dim(y)), x)
+   cls <- if ( colorMode(x)==Color ) TRUE else FALSE
+   z <- check("paintObjects", y, x, col=c("#ff00ff", "#ffff00"), opac=c(1.0, 0.5), thick=cls, closed=cls)  
+   z <- check("rmObjects", y, as.list(seq_len(numberOfFrames(y))), cls)
+   z <- check("reenumerate", z)
+   z <- check("reenumerate", y)
+   
+   ## features
+   x1 <- getFrame(x, 1)
+   x2 <- list(x=x1, y=2*x1)
+   y1 <- getFrame(y, 1)
+   expandRef <- if ( min(dim(x1)) > 31L ) function(ref, refnames) standardExpandRef(ref, refnames, gblob(n=31L)) else NULL
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef)
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef, properties = TRUE)
+   
+   ## curvature
+   y <- check("ocontour", x>0.5)
+   if (length(y) > 0L ) z <- check("localCurvature", y[[1L]])
+ 
+   ## filtering
+   z <- check("normalize", x, suppressWarnings=TRUE)
+   z <- check("gblur", x, sigma=1, expectError=min(d)<7)
+   z <- check("filter2", x, array(1, dim=c(5, 5)))
+   z <- check("medianFilter", x, 2)
+   z <- check("equalize", x, suppressWarnings=TRUE)
+ 
+   ## morphological operations
+   y <- x > 0.5
+   z <- check("erode", y)
+   z <- check("dilate", y, makeBrush(5, 'disc'))
+   z <- check("opening", y, makeBrush(7, 'line'))
+   z <- check("closing", y, makeBrush(4, 'line', angle=0), suppressWarnings=TRUE)
+   z <- check("distmap", y)
+   z <- check("watershed", z)
+   z <- check('floodFill', x, c(5, 5), 0.5)
+   z <- check('fillHull', y)
+   z <- check("erodeGrayscale", x)
+   z <- check("dilateGrayscale", x)
+   z <- check("openingGrayscale", x)
+   z <- check("closingGrayscale", x)
+   z <- check("whiteTopHatGrayscale", x)
+   z <- check("blackTopHatGrayscale", x)
+   z <- check("selfcomplementaryTopHatGrayscale", x)
+ 
+   ## propagate
+   y <- thresh(x, offset=0.02)
+   y <- fillHull(y)
+   y <- bwlabel(y)
+   z <- check("propagate", x, y, x>0.5)
+   
+   ## colorspace
+   z <- check("toRGB", x)
+   z <- check("rgbImage", x, x>0.5)
+ 
+   ## image stacking, combining, tiling
+   y <- check("combine", list(NULL, x, x, NULL, NULL))
+   z <- check("combine", x, y, y)
+   y <- check("tile", z, nx=3)
+   z <- check("untile", y, c(3, 2))
+ 
+   cat("\n")
+ }
> 
> 
> ## check error handling
> try.readImage <- function(...) tryCatch(suppressWarnings(readImage(...)), error = function(e) NULL)
> mock <- try.readImage(system.file("images", package="EBImage"), type="png")
> mock <- try.readImage("http://www.huber.embl.de/EBImage/missing.file ", type="png")
> 
> ## single greyscale and color images
> sample <- try.readImage(system.file("images","sample.png", package="EBImage"))
> sample.color <- try.readImage(system.file("images","sample-color.png", package="EBImage"))
> ## multi-frame image stack
> f = system.file("images","nuclei.tif", package="EBImage")
> nuclei = try.readImage(c(f, f))
> ## test reading from URL
> logo <- try.readImage("http://www.huber.embl.de/EBImage/logo.png")
> 
> ## test: IO operations
> testIOFunctions("sample", "sample.color", "nuclei", "logo")
checking IO for 'sample' ... PASS
checking IO for 'sample.color' ... PASS
checking IO for 'nuclei' ... PASS
checking IO for 'logo' ... PASS
> 
> ## test: black image
> testEBImageFunctions(Image(0, c(8, 8)))
new test (hash=0fb0cc700827b131)
checking 'show' ............................... PASS (173c8cbd81a9cde9 NA)
checking 'print' .............................. PASS (5b14d8b6ffe84300 NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (d7ebf7892fc2c32c -0.1)
checking '+' .................................. PASS (0fb0cc700827b131 -0.1)
checking '/' .................................. PASS (0fb0cc700827b131 -0.1)
checking '*' .................................. PASS (0fb0cc700827b131 -0.1)
checking 'median' ............................. PASS (c40c00762a0dac94 -0.1)
checking 'quantile' ........................... PASS (b4f9b029845c42a1 -0.1)
checking 'Image' .............................. PASS (413d66c57f17036e -0.1)
checking 'as.Image' ........................... PASS (0fb0cc700827b131 -0.1)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (6706ea2bf8efdd2f -0.1)
checking 'imageData<-' ........................ PASS (0fb0cc700827b131 -0.1)
checking 'as.raster' .......................... PASS (988c3e69631a1f16 NA)
checking 'colorMode<-' ........................ PASS (0fb0cc700827b131 -0.1)
checking 'numberOfFrames' ..................... PASS (3908fe5069df3c28 0.9)
checking 'getFrames' .......................... PASS (aa9fc8053f0c2e16 468889a780af5b59)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (e7dfae4ff675d45c 447.9)
checking '[' .................................. PASS (7aa689d4c52a608a -0.1)
checking 'resize' ............................. PASS (4b66c4f7ca7e2212 -0.1)
checking 'rotate' ............................. PASS (07fca35929750876 -0.1)
checking 'flip' ............................... PASS (0fb0cc700827b131 -0.1)
checking 'flop' ............................... PASS (0fb0cc700827b131 -0.1)
checking 'translate' .......................... PASS (0d474206e7c251da 1932.9)
checking 'affine' ............................. PASS (0fb0cc700827b131 -0.1)
checking 'transpose' .......................... PASS (0fb0cc700827b131 -0.1)
checking 'thresh' ............................. PASS (0fb0cc700827b131 -0.1)
checking 'channel' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'otsu' ............................... PASS (d22f9d08bd230af6 -0.09804688)
checking 'bwlabel' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'colorLabels' ........................ PASS (1da1c17647dd0d39 -0.1)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (0fb0cc700827b131 -0.1)
checking 'rmObjects' .......................... PASS (0fb0cc700827b131 -0.1)
checking 'reenumerate' ........................ PASS (fafdedfbabd9ddeb -0.1)
checking 'reenumerate' ........................ PASS (fafdedfbabd9ddeb -0.1)
checking 'computeFeatures' .................... PASS (c85d88fc56f4e042 NA)
checking 'computeFeatures' .................... PASS (20f6d1b3e5f44322 b69ec11ada4bcfe9)
checking 'ocontour' ........................... PASS (aa387ed6436a9c45 NA)
checking 'normalize' .......................... PASS (0fb0cc700827b131 -0.1)
checking 'gblur' .............................. PASS (0fb0cc700827b131 -0.1)
checking 'filter2' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'medianFilter' ....................... PASS (0fb0cc700827b131 -0.1)
checking 'equalize' ........................... PASS (0fb0cc700827b131 -0.1)
checking 'erode' .............................. PASS (0fb0cc700827b131 -0.1)
checking 'dilate' ............................. PASS (0fb0cc700827b131 -0.1)
checking 'opening' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'closing' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'distmap' ............................ PASS (0fb0cc700827b131 -0.1)
checking 'watershed' .......................... PASS (0fb0cc700827b131 -0.1)
checking 'floodFill' .......................... PASS (b541977f830cb5a1 1039.9)
checking 'fillHull' ........................... PASS (d7ebf7892fc2c32c -0.1)
checking 'erodeGrayscale' ..................... PASS (0fb0cc700827b131 -0.1)
checking 'dilateGrayscale' .................... PASS (0fb0cc700827b131 -0.1)
checking 'openingGrayscale' ................... PASS (0fb0cc700827b131 -0.1)
checking 'closingGrayscale' ................... PASS (0fb0cc700827b131 -0.1)
checking 'whiteTopHatGrayscale' ............... PASS (0fb0cc700827b131 -0.1)
checking 'blackTopHatGrayscale' ............... PASS (0fb0cc700827b131 -0.1)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (0fb0cc700827b131 -0.1)
checking 'propagate' .......................... PASS (0fb0cc700827b131 -0.1)
checking 'toRGB' .............................. PASS (1da1c17647dd0d39 -0.1)
checking 'rgbImage' ........................... PASS (1da1c17647dd0d39 -0.1)
checking 'combine' ............................ PASS (acb49c4cf356aab4 -0.1)
checking 'combine' ............................ PASS (29e3d9ae99e94808 -0.1)
checking 'tile' ............................... PASS (aed00c8abb2af18b 42140.88)
checking 'untile' ............................. PASS (9ebfa747bfa6af15 16809.31)

> 
> ## test: white image
> testEBImageFunctions(Image(1L, c(5, 5)))
new test (hash=c0a83ec804d16533)
checking 'show' ............................... PASS (1e4d218efa6a6131 NA)
checking 'print' .............................. PASS (61fa8f9bbdba7ac3 NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (009762e6556ca2bb 324.9)
checking '+' .................................. PASS (a74914c1f7be0f71 649.9)
checking '/' .................................. PASS (7e2fa5be43032dd0 162.4)
checking '*' .................................. PASS (a74914c1f7be0f71 649.9)
checking 'median' ............................. PASS (3908fe5069df3c28 0.9)
checking 'quantile' ........................... PASS (e4e6cac1063ab1e4 14.9)
checking 'Image' .............................. PASS (5ae04f2ba301fa69 324.9)
checking 'as.Image' ........................... PASS (c0a83ec804d16533 324.9)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (66ba1706a58eb3b1 324.9)
checking 'imageData<-' ........................ PASS (c0a83ec804d16533 324.9)
checking 'as.raster' .......................... PASS (3f7dda554a6131b0 NA)
checking 'colorMode<-' ........................ PASS (c0a83ec804d16533 324.9)
checking 'numberOfFrames' ..................... PASS (3908fe5069df3c28 0.9)
checking 'getFrames' .......................... PASS (a9b88fcfca58463d a1dd4b12fc783075)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (47ec4490f3f6da9a 324.9)
checking '[' .................................. PASS (c0a83ec804d16533 324.9)
checking 'resize' ............................. PASS (0b795f08fe0013cb 4543605)
checking 'rotate' ............................. PASS (f3b8b494de9b9efa 394.9006)
checking 'flip' ............................... PASS (c0a83ec804d16533 324.9)
checking 'flop' ............................... PASS (c0a83ec804d16533 324.9)
checking 'translate' .......................... PASS (47ec4490f3f6da9a 324.9)
checking 'affine' ............................. PASS (c12b3c76d0b58bb6 39.9)
checking 'transpose' .......................... PASS (c0a83ec804d16533 324.9)
checking 'thresh' ............................. PASS (47ec4490f3f6da9a 324.9)
checking 'channel' ............................ PASS (c0a83ec804d16533 324.9)
checking 'otsu' ............................... PASS (127497c26ce66186 0.8980469)
checking 'bwlabel' ............................ PASS (47ec4490f3f6da9a 324.9)
checking 'colorLabels' ........................ PASS (6d5e96f068d9d58e 2849.9)
checking 'stackObjects' ....................... PASS (436ff23275e8aed9 324.9)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (4f801e4a27565253 270.7333)
checking 'rmObjects' .......................... PASS (c0b628df7fb28543 -0.1)
checking 'reenumerate' ........................ PASS (0760735262979cc8 -0.1)
checking 'reenumerate' ........................ PASS (c0a83ec804d16533 324.9)
checking 'computeFeatures' .................... PASS (d36cc63a749dd7c1 950932.9)
checking 'computeFeatures' .................... PASS (20f6d1b3e5f44322 b69ec11ada4bcfe9)
checking 'ocontour' ........................... PASS (a6206b0decd72ab6 c3a137271253c2d1)
checking 'localCurvature' ..................... PASS (6ec855009ed39527 40d44aea8c53f504)
checking 'normalize' .......................... PASS (47ec4490f3f6da9a 324.9)
checking 'gblur' .............................. PASS (b61cd6f5ee201143 NA)
checking 'filter2' ............................ PASS (e20b3c89b69ba61f 8124.9)
checking 'medianFilter' ....................... PASS (47ec4490f3f6da9a 324.9)
checking 'equalize' ........................... PASS (c0a83ec804d16533 324.9)
checking 'erode' .............................. PASS (47ec4490f3f6da9a 324.9)
checking 'dilate' ............................. PASS (47ec4490f3f6da9a 324.9)
checking 'opening' ............................ PASS (47ec4490f3f6da9a 324.9)
checking 'closing' ............................ PASS (47ec4490f3f6da9a 324.9)
checking 'distmap' ............................ PASS (3968756b92e686af Inf)
checking 'watershed' .......................... PASS (47ec4490f3f6da9a 324.9)
checking 'floodFill' .......................... PASS (0760735262979cc8 -0.1)
checking 'fillHull' ........................... PASS (009762e6556ca2bb 324.9)
checking 'erodeGrayscale' ..................... PASS (47ec4490f3f6da9a 324.9)
checking 'dilateGrayscale' .................... PASS (47ec4490f3f6da9a 324.9)
checking 'openingGrayscale' ................... PASS (47ec4490f3f6da9a 324.9)
checking 'closingGrayscale' ................... PASS (47ec4490f3f6da9a 324.9)
checking 'whiteTopHatGrayscale' ............... PASS (c0b628df7fb28543 -0.1)
checking 'blackTopHatGrayscale' ............... PASS (c0b628df7fb28543 -0.1)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (c0b628df7fb28543 -0.1)
checking 'propagate' .......................... PASS (47ec4490f3f6da9a 324.9)
checking 'toRGB' .............................. PASS (3adf3849ec77178c 2849.9)
checking 'rgbImage' ........................... PASS (182831749b9c8833 1274.9)
checking 'combine' ............................ PASS (8e7c415035bf310f 1274.9)
checking 'combine' ............................ PASS (e8022e311456840f 7874.9)
checking 'tile' ............................... PASS (44f735a8c2b8fc05 24420.64)
checking 'untile' ............................. PASS (32041de4a3b2fe12 10445.49)

> 
> ## test: 2D Grayscale 64x48
> x <- nuclei[50:113,208:255,2]
> testEBImageFunctions(as.array(x))
new test (hash=2b807740760f9123)
checking 'show' ............................... PASS (be62983b23a83364 NA)
checking 'print' .............................. PASS (be62983b23a83364 NA)
checking 'hist' ............................... PASS (5a31d99161d2d364 87f9979c0125a31d)
checking '>' .................................. PASS (ac7f2ab83d45ff7d 1217568)
checking '+' .................................. PASS (be2cd39b41e0f7a3 2940144)
checking '/' .................................. PASS (7dc4fd1c206ac79b 735035.9)
checking '*' .................................. PASS (be2cd39b41e0f7a3 2940144)
checking 'median' ............................. PASS (a2720090465e1ccc 0.04509804)
checking 'quantile' ........................... PASS (641a0af93af14d44 7.331373)
checking 'Image' .............................. PASS (f2b32a9a195a6266 1470072)
checking 'as.Image' ........................... PASS (2677ae00865beabc 1470072)
checking 'is.Image' ........................... PASS (9882e97b88564731 -0.1)
checking 'imageData' .......................... PASS (2b807740760f9123 1470072)
checking 'imageData<-' ........................ PASS (2b807740760f9123 1470072)
checking 'as.raster' .......................... PASS (a2d61abce8959524 NA)
checking 'colorMode<-' ........................ PASS (e175c2cfc223fed1 NA)
checking 'numberOfFrames' ..................... PASS (3908fe5069df3c28 0.9)
checking 'getFrames' .......................... PASS (15d075a737f62c33 e952e1a8d62f3708)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (da30c5f8b7570174 1607165)
checking '[' .................................. PASS (1cec9d80df78b003 48.94314)
checking 'resize' ............................. PASS (428dc50526c645a1 1402833)
checking 'rotate' ............................. PASS (caf1bb0db994339c 2450957)
checking 'flip' ............................... PASS (c79f130eb93038ed 1195977)
checking 'flop' ............................... PASS (75a894c3bf853f2c 1462119)
checking 'translate' .......................... PASS (0785e12c43c344e4 2133961)
checking 'affine' ............................. PASS (39b1664c470e5649 53779.42)
checking 'transpose' .......................... PASS (838c16f869249228 1522055)
checking 'thresh' ............................. PASS (e1a27233dfc9f1a2 1246005)
checking 'channel' ............................ PASS (2b807740760f9123 1470072)
checking 'otsu' ............................... PASS (78a90522675666ad 0.3160156)
checking 'bwlabel' ............................ PASS (45efcb702c2d8e3e 1199387)
checking 'colorLabels' ........................ PASS (e380efcfe868f85e 10021713)
checking 'stackObjects' ....................... PASS (aab87d39a112804a 718602.9)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (47f6c74a1a88d4e1 1447733)
checking 'rmObjects' .......................... PASS (4e88ac3203c72524 -0.1)
checking 'reenumerate' ........................ PASS (5447e9c1029af6a3 -0.1)
checking 'reenumerate' ........................ PASS (812b22141e596cb7 1199387)
checking 'computeFeatures' .................... PASS (01ccf0fb62b18de9 3634215)
checking 'computeFeatures' .................... PASS (c7d9e982be34739e 7f35a6f344e430fc)
checking 'ocontour' ........................... PASS (499d17467435a7d1 e3f0d613b1fb297e)
checking 'localCurvature' ..................... PASS (95b3153bfce1d805 223e41ae247e584e)
checking 'normalize' .......................... PASS (d79309a459b2291a 1431381)
checking 'gblur' .............................. PASS (abf7b365d381886f 1466231)
checking 'filter2' ............................ PASS (32f26350b4788558 36592176)
checking 'medianFilter' ....................... PASS (0e407bcbe43715b3 1454712)
checking 'equalize' ........................... PASS (3caca44d651e66ea 2642794)
checking 'erode' .............................. PASS (cbd62533f13605e3 759774.9)
checking 'dilate' ............................. PASS (a0a2ad0687fe01e4 1797576)
checking 'opening' ............................ PASS (da26fc7bac63aece 1152484)
checking 'closing' ............................ PASS (dfe738e597a6ecf6 1232737)
checking 'distmap' ............................ PASS (8c4338439d4b0570 3826969)
checking 'watershed' .......................... PASS (60c1aac3c28d1df2 2762113)
checking 'floodFill' .......................... PASS (19e36e65b03f71ab 1470197)
checking 'fillHull' ........................... PASS (ac7f2ab83d45ff7d 1217568)
checking 'erodeGrayscale' ..................... PASS (8955d1fe7b1a01d2 1130521)
checking 'dilateGrayscale' .................... PASS (f3a7c96d14f77760 1843945)
checking 'openingGrayscale' ................... PASS (a33a56df87ebc14f 1440758)
checking 'closingGrayscale' ................... PASS (f07a84f4e863d27f 1488678)
checking 'whiteTopHatGrayscale' ............... PASS (3a628e9564b5893c 29313.46)
checking 'blackTopHatGrayscale' ............... PASS (b01240e827a69ba7 18605.81)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (bdaa06ea22b95bcd 47919.37)
checking 'propagate' .......................... PASS (3430d30cf7e39472 3405440)
checking 'toRGB' .............................. PASS (1244edecbf3bf6d7 12381911)
checking 'rgbImage' ........................... PASS (25fea694fac82b14 4859544)
checking 'combine' ............................ PASS (3cc29b29d32d4f81 5597376)
checking 'combine' ............................ PASS (476479150b4fbf0a 33922678)
checking 'tile' ............................... PASS (6fc0aa8a87d4a6e4 78718054)
checking 'untile' ............................. PASS (1eab7936401a947d 72597772)

> 
> ## test: 2D Color 32x48x1
> x <- sample[1:32, 1:48]
> testEBImageFunctions(Image(as.vector(x), dim(x), Color))
new test (hash=bd747c150231539e)
checking 'show' ............................... PASS (ef2067a8dbc5e4f0 NA)
checking 'print' .............................. PASS (3013c025e739d916 NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (705c326b8b9318d3 988518.9)
checking '+' .................................. PASS (12447328826471aa 1531522)
checking '/' .................................. PASS (1ac379e0578e0d92 382880.4)
checking '*' .................................. PASS (12447328826471aa 1531522)
checking 'median' ............................. PASS (dd1afb6487fe3bc4 0.5039216)
checking 'quantile' ........................... PASS (a7534fa957fa19e8 10.10392)
checking 'Image' .............................. PASS (bd747c150231539e 765760.9)
checking 'as.Image' ........................... PASS (bd747c150231539e 765760.9)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (c6faab7e9ca9f733 765760.9)
checking 'imageData<-' ........................ PASS (bd747c150231539e 765760.9)
checking 'as.raster' .......................... PASS (c68713e14f92a4a7 NA)
checking 'colorMode<-' ........................ PASS (429bcb633c1ab18d 765760.9)
checking 'numberOfFrames' ..................... PASS (3908fe5069df3c28 0.9)
checking 'getFrames' .......................... PASS (a93b731c4233d545 0019454c85a74df3)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (0c2824ad68307a21 782100.7)
checking '[' .................................. PASS (4227a34ee34b2835 1285.273)
checking 'resize' ............................. PASS (4adbdd4e329ba6d9 2922144)
checking 'rotate' ............................. PASS (86d205bcce3a694a 1219594)
checking 'flip' ............................... PASS (3a2cf0639972804f 661525.2)
checking 'flop' ............................... PASS (c2fcdded57f2df94 768451.1)
checking 'translate' .......................... PASS (ce346d686bc770b8 820434.5)
checking 'affine' ............................. PASS (ba25cccf0e350114 21962.67)
checking 'transpose' .......................... PASS (87d5c809a16055eb 652051.4)
checking 'thresh' ............................. PASS (41be9851a0d782b5 351487.9)
checking 'channel' ............................ PASS (8a1b88b9787a53d5 162800.7)
checking 'otsu' ............................... PASS (3c76af35cb01e2eb 0.03085937)
checking 'bwlabel' ............................ PASS (1c7c9689abd34b80 832970.9)
checking 'colorLabels' ........................ PASS (c7639fb2788e6db7 5455321)
checking 'stackObjects' ....................... PASS (3600c5297597d6e3 596493.9)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (00ce5f97ebde2ff6 919069.9)
checking 'rmObjects' .......................... PASS (360828a74ca7e760 565.9)
checking 'reenumerate' ........................ PASS (19dbdbbb9cc608d9 565.9)
checking 'reenumerate' ........................ PASS (1e9d13b9c5ac6e16 832970.9)
checking 'computeFeatures' .................... PASS (028a2281c4aabe38 3988895)
checking 'computeFeatures' .................... PASS (c7d9e982be34739e 7f35a6f344e430fc)
checking 'ocontour' ........................... PASS (070c04616a50c35e 80bc5b5c6a3b3908)
checking 'localCurvature' ..................... PASS (9ae783be500cce82 8d048495372dc238)
checking 'normalize' .......................... PASS (7a9619f073e2f570 747801.4)
checking 'gblur' .............................. PASS (d88b12f3511827f1 761679.3)
checking 'filter2' ............................ PASS (0dbc2663bf316e78 18975839)
checking 'medianFilter' ....................... PASS (6c56f84875434872 765141.6)
checking 'equalize' ........................... PASS (1e23a2e15229c20e 705546.8)
checking 'erode' .............................. PASS (dfc49947778f3fd3 908526.9)
checking 'dilate' ............................. PASS (e96a39a34ae873d5 1072658)
checking 'opening' ............................ PASS (7be461afcc839c70 985798.9)
checking 'closing' ............................ PASS (424cf301fd9ff933 988727.9)
checking 'distmap' ............................ PASS (aeb6a531fd75db21 12740449)
checking 'watershed' .......................... PASS (5b555fc8bef53eae 988518.9)
checking 'floodFill' .......................... PASS (c580859e4a7a6769 765755.4)
checking 'fillHull' ........................... PASS (705c326b8b9318d3 988518.9)
checking 'erodeGrayscale' ..................... PASS (968755d6e1932ccf 729794.4)
checking 'dilateGrayscale' .................... PASS (4ab75a5d13538b96 801416.4)
checking 'openingGrayscale' ................... PASS (3eb2d6066ffe9796 762731.7)
checking 'closingGrayscale' ................... PASS (5cfcea9fc4332399 770446.1)
checking 'whiteTopHatGrayscale' ............... PASS (154c632d47c3d3e6 3029.12)
checking 'blackTopHatGrayscale' ............... PASS (4f55ef1559942494 4685.131)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (11cb902b60a8929c 7714.351)
checking 'propagate' .......................... PASS (86f1e6bd64000fdf 27577069)
checking 'toRGB' .............................. PASS (bd747c150231539e 765760.9)
checking 'rgbImage' ........................... PASS (e06537243eb0e1ac 3520680)
checking 'combine' ............................ PASS (b73504802e49e904 2960568)
checking 'combine' ............................ PASS (9fed9fe3b4f22dff 18119267)
checking 'tile' ............................... PASS (da990945980a75be 33061491)
checking 'untile' ............................. PASS (0d1c24954f391171 27788327)

> 
> ## test: 3D Color 65x17x3
> x <- sample.color[1:65, 1:17,]
> testEBImageFunctions(x)
new test (hash=df16ffd954f54f35)
checking 'show' ............................... PASS (22caaf2b2998b26e NA)
checking 'print' .............................. PASS (05e84b78c7dc3f5e NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (3e73cc1271e95ecc 1058553)
checking '+' .................................. PASS (f9ff1ab82d3dfd0e 4072301)
checking '/' .................................. PASS (fb90b22233b455b8 1018075)
checking '*' .................................. PASS (f9ff1ab82d3dfd0e 4072301)
checking 'median' ............................. PASS (d6ad28ef4d78cece 0.2333333)
checking 'quantile' ........................... PASS (23cab2f85b4dc3e9 7.280392)
checking 'Image' .............................. PASS (df16ffd954f54f35 2036151)
checking 'as.Image' ........................... PASS (df16ffd954f54f35 2036151)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (4a1f5278589dcfdd 2036151)
checking 'imageData<-' ........................ PASS (df16ffd954f54f35 2036151)
checking 'as.raster' .......................... PASS (0ca68206d02d9149 NA)
checking 'colorMode<-' ........................ PASS (7036e7692c30886f 2036151)
checking 'numberOfFrames' ..................... PASS (3908fe5069df3c28 0.9)
checking 'getFrames' .......................... PASS (8abbc75cb27fde04 783945dba5da94fb)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (07ab6a17652b85ff 2049936)
checking '[' .................................. PASS (190a4a91eeb3562c 9950.096)
checking 'resize' ............................. PASS (0ef26142a17c63e2 15170373)
checking 'rotate' ............................. PASS (2967ea2f05c5f705 4467033)
checking 'flip' ............................... PASS (950d1f0dd80d4d81 1977928)
checking 'flop' ............................... PASS (56cdbeab06db6a47 2048664)
checking 'translate' .......................... PASS (846695f292182f28 2998417)
checking 'affine' ............................. PASS (80f37a96cf24410f 232261.7)
checking 'transpose' .......................... PASS (7cb4a8ce55d49915 1907377)
checking 'thresh' ............................. PASS (ba4d61477b063b4c 1351867)
checking 'channel' ............................ PASS (a9992c7039a4a9a6 257578.5)
checking 'otsu' ............................... PASS (3421d329e5c0971d 0.3316406)
checking 'bwlabel' ............................ PASS (e62609d3e8d9149b 230329.9)
checking 'colorLabels' ........................ PASS (3600940f7085449c 1920855)
checking 'stackObjects' ....................... PASS (2678e20b36a18c03 712799.6)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (b45860f2c2831e77 2090128)
checking 'rmObjects' .......................... PASS (3a45aab24f14e03e -0.1)
checking 'reenumerate' ........................ PASS (7805a82e502475d7 -0.1)
checking 'reenumerate' ........................ PASS (345d99616996b2c3 230329.9)
checking 'computeFeatures' .................... PASS (879141a6630a0e3b 746878.2)
checking 'computeFeatures' .................... PASS (20f6d1b3e5f44322 b69ec11ada4bcfe9)
checking 'ocontour' ........................... PASS (917cc3ca94302543 0bf6d0098d1c1f99)
checking 'localCurvature' ..................... PASS (c5ec39639d974951 23e98238d9599362)
checking 'normalize' .......................... PASS (2a01524e8f684c34 1788995)
checking 'gblur' .............................. PASS (7077af23fda6e2f0 2029979)
checking 'filter2' ............................ PASS (5728d0abef004f92 50652074)
checking 'medianFilter' ....................... PASS (a66879703290ecda 2034604)
checking 'equalize' ........................... PASS (c6c018d594bddeba 2942981)
checking 'erode' .............................. PASS (96d6b32007ae3c9c 830816.9)
checking 'dilate' ............................. PASS (ad2e8c4465e64cdf 1339263)
checking 'opening' ............................ PASS (0844df70768c9e7a 1013295)
checking 'closing' ............................ PASS (dc2db73f7a193459 1069405)
checking 'distmap' ............................ PASS (4ff9eb5916a3e4bd 6038778)
checking 'watershed' .......................... PASS (71922358c0773697 1058553)
checking 'floodFill' .......................... PASS (4f3ec32ff522f4bf 2036854)
checking 'fillHull' ........................... PASS (3e73cc1271e95ecc 1058553)
checking 'erodeGrayscale' ..................... PASS (702c8db97902b0d1 1941712)
checking 'dilateGrayscale' .................... PASS (513b13acf1ffba82 2130233)
checking 'openingGrayscale' ................... PASS (ae8f63301a5122ff 2019598)
checking 'closingGrayscale' ................... PASS (80e75da1a4ff2105 2052164)
checking 'whiteTopHatGrayscale' ............... PASS (78ad2c1f402ec9a6 16552.27)
checking 'blackTopHatGrayscale' ............... PASS (310048dd19cf0a6a 16013.67)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (7e755fa463face78 32566.05)
checking 'propagate' .......................... PASS (fcee5b45874049be 5578273)
checking 'toRGB' .............................. PASS (df16ffd954f54f35 2036151)
checking 'rgbImage' ........................... PASS (aa1bfe4443806594 7617867)
checking 'combine' ............................ PASS (0b1ca4ef3b6e59d5 8350133)
checking 'combine' ............................ PASS (bc5e155c284cacfe 52959073)
checking 'tile' ............................... PASS (bea2c910480a0087 107188639)
checking 'untile' ............................. PASS (3940046bd676843e 97994583)

> 
> ## test: 3D Grayscale logical 32x32x2
> x <- sample[32:63, 32:63]
> x <- x > otsu(x)
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=77fa1e7e2556e50e)
checking 'show' ............................... PASS (9652f32b1eddc08e NA)
checking 'print' .............................. PASS (2cca6953db88e207 NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (77fa1e7e2556e50e 1055560)
checking '+' .................................. PASS (7a40c93c08a7e32e 2111120)
checking '/' .................................. PASS (86e0f03af921c409 527779.9)
checking '*' .................................. PASS (7a40c93c08a7e32e 2111120)
checking 'median' ............................. PASS (c40c00762a0dac94 -0.1)
checking 'quantile' ........................... PASS (cea931316a5859c7 8.9)
checking 'Image' .............................. PASS (83811254ccc149ec 1055560)
checking 'as.Image' ........................... PASS (77fa1e7e2556e50e 1055560)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (f477827fb79bb552 1055560)
checking 'imageData<-' ........................ PASS (77fa1e7e2556e50e 1055560)
checking 'as.raster' .......................... PASS (0f5acc8e9df89136 NA)
checking 'colorMode<-' ........................ PASS (77fa1e7e2556e50e 1055560)
checking 'numberOfFrames' ..................... PASS (16b3cb68bd4872ed 1.9)
checking 'getFrames' .......................... PASS (645f82a65ae053bd 8a282436e4161e42)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (c43d3a0498bb4437 1656514)
checking '[' .................................. PASS (d891bfd868f6976b 1889.9)
checking 'resize' ............................. PASS (8f1320e8a5b2b1ea 9061250)
checking 'rotate' ............................. PASS (43e9ffc36cdc4a66 1574525)
checking 'flip' ............................... PASS (e689b22616e7588c 714439.9)
checking 'flop' ............................... PASS (d43fd3dc6ac11eec 1064092)
checking 'translate' .......................... PASS (d84f400d52b3f98f 1105982)
checking 'affine' ............................. PASS (2c8444aab54e3024 132943.4)
checking 'transpose' .......................... PASS (a3513fc9746d8b21 758083.9)
checking 'thresh' ............................. PASS (cdc4130acf39a63e 835221.9)
checking 'channel' ............................ PASS (77fa1e7e2556e50e 1055560)
checking 'otsu' ............................... PASS (1af7e24abb9bcce0 1.4)
checking 'bwlabel' ............................ PASS (49a0b482f61fa5ad 1597368)
checking 'colorLabels' ........................ PASS (919bae0907f01c09 3525827)
checking 'stackObjects' ....................... PASS (3b11de3f509deddf 8889538)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (1b44cc0e3ae1786d 834266.6)
checking 'rmObjects' .......................... PASS (5848f72b7764d461 1303423)
checking 'reenumerate' ........................ PASS (ac9d9338bfa13559 1244828)
checking 'reenumerate' ........................ PASS (fa682dc4122da7e4 1597368)
checking 'computeFeatures' .................... PASS (054afa0068fc3c44 416164140)
checking 'computeFeatures' .................... PASS (c7d9e982be34739e 7f35a6f344e430fc)
checking 'ocontour' ........................... PASS (fd1b1e982872d273 d3afdf1bc872efac)
checking 'localCurvature' ..................... PASS (d1f34c7176c73595 2f19b6a1d36cbb85)
checking 'normalize' .......................... PASS (359d932e48192341 1055560)
checking 'gblur' .............................. PASS (d60f68bb03a35b80 1037581)
checking 'filter2' ............................ PASS (66ad8af969931d55 25640840)
checking 'medianFilter' ....................... PASS (3de854899bae4627 1030730)
checking 'equalize' ........................... PASS (359d932e48192341 1055560)
checking 'erode' .............................. PASS (6b9f2a24b87b94c6 617311.9)
checking 'dilate' ............................. PASS (b3c8ec09d9da7949 1591594)
checking 'opening' ............................ PASS (0ff31adb7814353b 861145.9)
checking 'closing' ............................ PASS (acc77da73bc226a5 1188258)
checking 'distmap' ............................ PASS (46b027f5b515a148 3856630)
checking 'watershed' .......................... PASS (3e97552aa599adb8 1443978)
checking 'floodFill' .......................... PASS (77fa1e7e2556e50e 1055560)
checking 'fillHull' ........................... PASS (77fa1e7e2556e50e 1055560)
checking 'erodeGrayscale' ..................... PASS (6b9f2a24b87b94c6 617311.9)
checking 'dilateGrayscale' .................... PASS (8123b098acffb6ee 1501932)
checking 'openingGrayscale' ................... PASS (824037abccd75597 922059.9)
checking 'closingGrayscale' ................... PASS (8821039926393ab8 1229132)
checking 'whiteTopHatGrayscale' ............... PASS (87149fe5f7c302da 133499.9)
checking 'blackTopHatGrayscale' ............... PASS (0822e418ab8905c9 173571.9)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (aac2b8da15985b09 307071.9)
checking 'propagate' .......................... PASS (1015267a01091f5e 1613920)
checking 'toRGB' .............................. PASS (65fbe360b1a5a97a 8499672)
checking 'rgbImage' ........................... PASS (7770b790dccfa9a1 4777616)
checking 'combine' ............................ PASS (1337b0f84e5117a0 3888784)
checking 'combine' ............................ PASS (7158c658500c794b 23054440)
checking 'tile' ............................... PASS (47117e939b4c1d2c 48846817)
checking 'untile' ............................. PASS (d5bc04958a1bcb02 41221063)

> 
> ## test: 4D Color 33x16x3x2
> x <- sample.color[1:33, 1:16,]
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=6b52b8659f0b3b91)
checking 'show' ............................... PASS (bf10c14d741bf60c NA)
checking 'print' .............................. PASS (03b096955628ddaf NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (284f739f57a38e8f 2013322)
checking '+' .................................. PASS (8785729da84b2d24 4709417)
checking '/' .................................. PASS (ee053193925a5e70 1177354)
checking '*' .................................. PASS (8785729da84b2d24 4709417)
checking 'median' ............................. PASS (921737fe01955415 0.3823529)
checking 'quantile' ........................... PASS (4faa4476a192bf84 8.139216)
checking 'Image' .............................. PASS (6b52b8659f0b3b91 2354709)
checking 'as.Image' ........................... PASS (6b52b8659f0b3b91 2354709)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (1587def4d4fe14ed 2354709)
checking 'imageData<-' ........................ PASS (6b52b8659f0b3b91 2354709)
checking 'as.raster' .......................... PASS (7cac0b7af20bb2b8 NA)
checking 'colorMode<-' ........................ PASS (449b195927ec7a96 2354709)
checking 'numberOfFrames' ..................... PASS (16b3cb68bd4872ed 1.9)
checking 'getFrames' .......................... PASS (6b1c3f8bf4b28584 9e77d43f85a2d89e)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (8dae2de41ae68ff4 2650006)
checking '[' .................................. PASS (af14057f7f05c6eb 40701.82)
checking 'resize' ............................. PASS (1214414bd12afa97 76856649)
checking 'rotate' ............................. PASS (0cbf533b9c841aa1 4102051)
checking 'flip' ............................... PASS (e3102df5fb136eb5 2309692)
checking 'flop' ............................... PASS (d66fc89021c74f0e 2358658)
checking 'translate' .......................... PASS (c66d0ce43414eb9b 3393923)
checking 'affine' ............................. PASS (892e943605649fdc 308521.6)
checking 'transpose' .......................... PASS (5f35e12327a20847 2303263)
checking 'thresh' ............................. PASS (8d5f5e48972fe0cd 1981320)
checking 'channel' ............................ PASS (f9c266a4ebb39fee 287206.2)
checking 'otsu' ............................... PASS (a4d92441ca1d0d4e 1.370703)
checking 'bwlabel' ............................ PASS (ce26e12f38b12445 360413.9)
checking 'colorLabels' ........................ PASS (cffb1be93cf2e53c 3039066)
checking 'stackObjects' ....................... PASS (913289409a811475 2472601)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (ac95172f2f0b9933 2558300)
checking 'rmObjects' .......................... PASS (55c91d8705d59853 261782.9)
checking 'reenumerate' ........................ PASS (82a300e5e705b133 261782.9)
checking 'reenumerate' ........................ PASS (9eb24d1dc6af5684 360413.9)
checking 'computeFeatures' .................... PASS (fa9c5d4ff17b6e43 749353.1)
checking 'computeFeatures' .................... PASS (20f6d1b3e5f44322 b69ec11ada4bcfe9)
checking 'ocontour' ........................... PASS (6ac3c4daf429be23 9baff273638735fa)
checking 'localCurvature' ..................... PASS (754e2807c3ec3c29 858d77339e17f960)
checking 'normalize' .......................... PASS (352fe23a1becb43d 2693244)
checking 'gblur' .............................. PASS (b063f595f3754c51 2349700)
checking 'filter2' ............................ PASS (ee0cdddf1b2a983e 58662977)
checking 'medianFilter' ....................... PASS (41f39e5f4276b9d5 2352447)
checking 'equalize' ........................... PASS (a722092fc21fca84 2616480)
checking 'erode' .............................. PASS (ff92458d032ee37d 1547948)
checking 'dilate' ............................. PASS (b44a559953ca3f45 2604996)
checking 'opening' ............................ PASS (38a20cc6a966fdd8 1919386)
checking 'closing' ............................ PASS (9a8b055a8da154af 2038196)
checking 'distmap' ............................ PASS (4a8d254ca818b4d5 10836360)
checking 'watershed' .......................... PASS (46cdc0776bbd1018 2013322)
checking 'floodFill' .......................... PASS (3c2659e1df47bcab 2355706)
checking 'fillHull' ........................... PASS (284f739f57a38e8f 2013322)
checking 'erodeGrayscale' ..................... PASS (412c8ede1096a8dd 2221928)
checking 'dilateGrayscale' .................... PASS (d51cddf71430c5d1 2490135)
checking 'openingGrayscale' ................... PASS (8d6765eea2cc954c 2345403)
checking 'closingGrayscale' ................... PASS (3c5b45ffd4146ef9 2366319)
checking 'whiteTopHatGrayscale' ............... PASS (b38ef3f0235edc45 9305.892)
checking 'blackTopHatGrayscale' ............... PASS (90340a7307e4521d 11610.48)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (fb5327bd0def283e 20916.47)
checking 'propagate' .......................... PASS (a7547f5b444e6017 5892508)
checking 'toRGB' .............................. PASS (6b52b8659f0b3b91 2354709)
checking 'rgbImage' ........................... PASS (011edbd2bc83f8ce 12071186)
checking 'combine' ............................ PASS (32c09dc2989f9115 9516503)
checking 'combine' ............................ PASS (620a8cf342b9bacd 59844403)
checking 'tile' ............................... PASS (b55ec2113e8e7a66 114300809)
checking 'untile' ............................. PASS (225df088aa6eda1e 105862114)

> 
> ## test: 4D Grayscale 16x33x2x3
> colorMode(x) <- Grayscale
> imageData(x) <- aperm(x, c(2L, 1L, 4L, 3L))
> testEBImageFunctions(x)
new test (hash=3fe4659bf1b7ea9d)
checking 'show' ............................... PASS (be8021731cf2b2a0 NA)
checking 'print' .............................. PASS (d8e10a88a6cb3842 NA)
checking 'hist' ............................... PASS (c85d88fc56f4e042 NA)
checking '>' .................................. PASS (0124552ba54fe00c 1541186)
checking '+' .................................. PASS (f74c1965488e9c1a 4466272)
checking '/' .................................. PASS (bc56a62bf20924f5 1116568)
checking '*' .................................. PASS (f74c1965488e9c1a 4466272)
checking 'median' ............................. PASS (921737fe01955415 0.3823529)
checking 'quantile' ........................... PASS (4faa4476a192bf84 8.139216)
checking 'Image' .............................. PASS (9035501ee6fb962a 2233136)
checking 'as.Image' ........................... PASS (3fe4659bf1b7ea9d 2233136)
checking 'is.Image' ........................... PASS (8271c9325d9ef093 0.9)
checking 'imageData' .......................... PASS (986892f597443d6b 2233136)
checking 'imageData<-' ........................ PASS (3fe4659bf1b7ea9d 2233136)
checking 'as.raster' .......................... PASS (f7e7a8f6f9906295 NA)
checking 'colorMode<-' ........................ PASS (3fe4659bf1b7ea9d 2233136)
checking 'numberOfFrames' ..................... PASS (ece535a87aa922f6 5.9)
checking 'getFrames' .......................... PASS (028a920980896eb3 81d867850209703e)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'display' ............................ PASS (c85d88fc56f4e042 NA)
checking 'image' .............................. PASS (c85d88fc56f4e042 NA)
checking 'drawCircle' ......................... PASS (48c1abf780ac50bb 2502013)
checking '[' .................................. PASS (1780d32bfedecd03 41200.75)
checking 'resize' ............................. PASS (dd8b649246396e57 72850661)
checking 'rotate' ............................. PASS (7bd3dd76f88a481e 3951771)
checking 'flip' ............................... PASS (1aac261b96f8970f 2296325)
checking 'flop' ............................... PASS (68b2f6ed6437cd2e 2231772)
checking 'translate' .......................... PASS (5830cb60138a5557 3827517)
checking 'affine' ............................. PASS (a253d3b124839436 221109)
checking 'transpose' .......................... PASS (f433165f2c69320e 2284582)
checking 'thresh' ............................. PASS (4e876620c8415a78 1786512)
checking 'channel' ............................ PASS (3fe4659bf1b7ea9d 2233136)
checking 'otsu' ............................... PASS (5a250b5fddae7b11 9.425391)
checking 'bwlabel' ............................ PASS (ba7e2065d5993145 2016822)
checking 'colorLabels' ........................ PASS (34a4836e8024da3e 14827904)
checking 'stackObjects' ....................... PASS (15c17e7df6de04b1 2575847)
checking 'stackObjects' ....................... PASS (c85d88fc56f4e042 NA)
checking 'paintObjects' ....................... PASS (5f03ac6783fbe048 2379341)
checking 'rmObjects' .......................... PASS (306606f65463bace 1934575)
checking 'reenumerate' ........................ PASS (36142d8b90cc7169 1934575)
checking 'reenumerate' ........................ PASS (5ddc9b1e186be7c2 2016822)
checking 'computeFeatures' .................... PASS (43d0ccf2b3ad2ce8 734993.9)
checking 'computeFeatures' .................... PASS (20f6d1b3e5f44322 b69ec11ada4bcfe9)
checking 'ocontour' ........................... PASS (a270ecbe5c6f8422 9dca06dd7e5823f2)
checking 'localCurvature' ..................... PASS (92a2ce450d041028 0e275b472ac3ec06)
checking 'normalize' .......................... PASS (cae6499684d3c82b 2526618)
checking 'gblur' .............................. PASS (42856349efb4df0a 2237219)
checking 'filter2' ............................ PASS (04e04e5ee63499d2 55995426)
checking 'medianFilter' ....................... PASS (141cc69bcb8541bf 2231438)
checking 'equalize' ........................... PASS (ceea43a46ba59858 2447139)
checking 'erode' .............................. PASS (6a6d62abd197a891 1121204)
checking 'dilate' ............................. PASS (d2a535dd6e013be2 2104588)
checking 'opening' ............................ PASS (bf37d199f136fb1c 1451050)
checking 'closing' ............................ PASS (1b98c747df733dd3 1569448)
checking 'distmap' ............................ PASS (b0027cbba424d524 7464344)
checking 'watershed' .......................... PASS (ddf87a8c0ed191e4 1541186)
checking 'floodFill' .......................... PASS (9ee5ef626746a212 2234521)
checking 'fillHull' ........................... PASS (0124552ba54fe00c 1541186)
checking 'erodeGrayscale' ..................... PASS (3e141be492044098 2103523)
checking 'dilateGrayscale' .................... PASS (44955b4eff5d3301 2367918)
checking 'openingGrayscale' ................... PASS (d95a7f5a6e7d998a 2224298)
checking 'closingGrayscale' ................... PASS (9f04bf0803cb9bbd 2245106)
checking 'whiteTopHatGrayscale' ............... PASS (c9b71218cebbd6ca 8838.229)
checking 'blackTopHatGrayscale' ............... PASS (6f120591e1de51e6 11970.18)
checking 'selfcomplementaryTopHatGrayscale' ... PASS (413721c91ece1dbe 20808.51)
checking 'propagate' .......................... PASS (b4653d52a82cf04d 2201664)
checking 'toRGB' .............................. PASS (b1192bdab82d601c 20279146)
checking 'rgbImage' ........................... PASS (4c1cdd88f94c8431 10796552)
checking 'combine' ............................ PASS (e1fa3de4a115e8db 8992851)
checking 'combine' ............................ PASS (164ecb40083c125a 56431472)
checking 'tile' ............................... PASS (2a676af105fcdbc5 72664167)
checking 'untile' ............................. PASS (820940217e98f0ca 60048605)

> 
